!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.senseUtilities=n()}(this,function(){"use strict";function e(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function n(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function t(e,t,o,u){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(u){var a=encodeURIComponent(n(u))+o;return i(e[u])?r(e[u],function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[u]))}).join(t):u?encodeURIComponent(n(u))+o+encodeURIComponent(n(e)):""}function r(e,n){if(e.map)return e.map(n);for(var t=[],r=0;r<e.length;r++)t.push(n(e[r],r));return t}function o(n,t,r,o){t=t||"&",r=r||"=";var u={};if("string"!=typeof n||0===n.length)return u;var a=/\+/g;n=n.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var f=n.length;c>0&&f>c&&(f=c);for(var s=0;s<f;++s){var l,p,y,d,v=n[s].replace(a,"%20"),h=v.indexOf(r);h>=0?(l=v.substr(0,h),p=v.substr(h+1)):(l=v,p=""),y=decodeURIComponent(l),d=decodeURIComponent(p),e(u,y)?i(u[y])?u[y].push(d):u[y]=[u[y],d]:u[y]=d}return u}function u(e){return e.replace(/(^[/]+)|([/]+$)/g,"")}var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n},c={encode:t,stringify:t,decode:o,parse:o},f=(function(){function e(e){this.value=e}function n(n){function t(o,u){try{var i=n[o](u),a=i.value;a instanceof e?Promise.resolve(a.value).then(function(e){t("next",e)},function(e){t("throw",e)}):r(i.done?"return":"normal",i.value)}catch(e){r("throw",e)}}function r(e,n){switch(e){case"return":o.resolve({value:n,done:!0});break;case"throw":o.reject(n);break;default:o.resolve({value:n,done:!1})}(o=o.next)?t(o.key,o.arg):u=null}var o,u;this._invoke=function(e,n){return new Promise(function(r,i){var a={key:e,arg:n,resolve:r,reject:i,next:null};u?u=u.next=a:(o=u=a,t(e,n))})},"function"!=typeof n.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(e){return this._invoke("next",e)},n.prototype.throw=function(e){return this._invoke("throw",e)},n.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}),s=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();return function(){function e(){f(this,e)}return s(e,null,[{key:"configureDefaults",value:function(e){e.host||(e.host="localhost"),void 0===e.secure&&(e.secure=!0),e.appId||e.route||(e.route="app/engineData"),void 0===e.noData&&(e.noData=!1)}},{key:"buildUrl",value:function(n){e.configureDefaults(n);var t=n.secure,r=n.host,o=n.port,i=n.prefix,a=n.subpath,f=n.route,s=n.identity,l=n.urlParams,p=n.ttl,y=n.appId,d="";return d+=(t?"wss":"ws")+"://",d+=r||"localhost",o&&(d+=":"+o),i&&(d+="/"+u(i)),a&&(d+="/"+u(a)),f?d+="/"+u(f):y&&""!==y&&(d+="/app/"+encodeURIComponent(y)),s&&(d+="/identity/"+encodeURIComponent(s)),p&&(d+="/ttl/"+p),l&&(d+="?"+c.stringify(l)),d}}]),e}()});
//# sourceMappingURL=sense-utilities.min.js.map
